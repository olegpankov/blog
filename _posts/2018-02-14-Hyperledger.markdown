---
layout: post
title:  "Семинар по Hyperledger Fabric"
date:   2018-02-14 20:14:28 +0900
categories: event
---

24 января в городе Саппоро в рамках инновационной программы Blockchain Hokkaido Innovation Program состоялся семинар, посвященный технологии Blockchain. Мероприятее включало два доклада и ответы на вопросы. Я был первым докладчиком. Сегодня хочу подытожить данное выступление изложив здесь краткое содержание. Б*о*льший акцент будет направлен на фундаментальные понятия.

# Итак, что же такое блокчейн?

Система хранения данных. Все так просто? Пожалуй нет.
В основе сети блокчейн лежит __распределенная книга__ (ledger), которая хранит данные о всех транзакциях, происходяших в сети. Данный формат часто упоминается как децентрализованный, поскольку он реплицируется во многих сетевых участниках, каждый из которых принимает участие в его обслуживании. 

Для поддержки последовательного обновления информации и включения целого ряда функций ledger'а (транзакции, запросы и тд.), а так же для обеспечения контролируемого доступа к нему в блокчейне существуют цепочки ключей, называемые __смарт-контракты__. 

Смарт-контракт - это не только ключевой механизм для инкапсуляции и поддержания простоты в системе, они также исполняют роль автоматизатора определенных транзакций узлами сети. Например, в смарт-контракт может быть вписан алгоритм определения стоимости доставки товара в зависимости он времени доставки. 

Идем делее. Цепочка _хранение - обновление - распределение_ синхронизированных сведений о транзакциях в ledger'е во всей сети блокчейн,и процесс регулирования доступа к ней, одобренный соответствующими узлами называется __консенсусом__.

Исходя из выше сказанного, можно сказать, что блокчейн выигрывает у реляционных баз данных защищенностью. В них участник обновляет данные для себя из одного места, в блокчейн-системе данные общие и у каждого находится своя синхронизированна копия. Благодаря возможности координировать всю бизнес сеть с помощью общей базы данных, стоимости и риски, связанные с ее хранением уменьшаются, а доверие повышается. Если что-то где-то упадет, накроется, хакнется - у всех все будет норм.

![db-vs-blockchain](/assets/images/db-vs-blockchain.png)

Нам теперь известно, что такое блокчейн и почему это полезно для здоровья. Существует еще огромная куча деталей, но они все связанны с этими фундаментальными понятиями.

# Теперь немного разберемся с Hyperledger Fabric. 

Это IBM'овский опен сорсный фреймворк, позволяющий создавать свою блокчейн сеть. 

Модель состоит из:
- Assets 
Все материальное и нематериальное имущество,объекты всех манипуляций, итоги которых наблюдаются в транзакциях. JSON данные. 
- Chaincode
Бизнес логика. Коды транзакций, результат которых распределяется по всей сети. SDK: NodeJS, Java, Golang, Python.
- Ledger
Записи транзакций. Приедставляют собой блоки, соединенный [хеш ссылками](https://ru.wikipedia.org/wiki/%D0%A5%D0%B5%D1%88%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5), поэтому "что написанно пером - не вырубишь топором".
![hash](/assets/images/Blockchain-workflow.png)

- Channels
Отличительная особенность Fabric. Для конфиденциализации транцакций между участниками используются каналы. Досуп к содержанию данных из вне канала невозможен (если необходимо, возможно предоставление). 
- Security Membership Service
СА сервер. У всех узлов проходит идеентификация для совершения транзакций.
- Concensus


Архитектура сети выглядит следующим образом:

![architecture](/assets/images/architecture.png)

Три главные составляющие:
- Пользовательская сторона
- Некий кастомный сервер
- Fabric Network с Docker-контейнерами
 
1. Пользователь отправляет запрос серверу.
2. Далее сервер отправляет транзакцию в Fabric Network. В транзакцию вписан исполняющий узел, который будет запускать функцию, ключ и сертификат. 
3. Затем Ордерер, контролирующий исполнение транзакции, ее коммуникационную сторону, передает мета-данные в Центр Сертификации, где происходит проверка подлинности сертификтов и считывение адреса исполняющего узла.
4. Ордерер передает исполняющему узлу данные транзакции, и узел запускает функцию.
5. Под руководством Ордерера другие узлы проводят валидацию транзакции и получают транзакционный лог.
6. Затем результат передается обратно пользователю по тому же самому пути с помощью SDK.

# Особенности Hyperledger Fabric:

- Регулирование тождества
Для предоставления защищенной блокчейн сети Hyperledger Fabric обладает такой вещью, как _membership identity service_, который работает с пользовательскими ID и регулирует всех участников сети. ACL может так же быть использован для дополнительного создания уровней допуска пользователей к информации через определенную авторизацию.

- Защита и конфиденциальность
Учитывая потребности бизнеса, Hyperledger Fabric содержит ряд технологий для предоставления защищенности бизнес группам в цепи сети блокчейн для осуществления конфиденциальных транзакций.Защищенные каналы позволяют справляться с этим без особых проблем. Все данные, включая записи транзакций, участников сделки и информация о канале не доступна за пределами канала.

- Функциональность чейнкода
Бизнес логика записанна в чейнкод и представляет собой функции регулирующие типы транзакций в каналах. 
Изменение параметров владельца, валидация и так далее.

- Модульный дизайн
Мечта разработчика. Модульная архитектура позволяет включать и выключать некоторые алгоритмыб методы шифрования и консенсуса. В результате мы получаем блокчейн платформу с универсальной архтитектурой, применимой в различных индустриях.


Блокчейн набирает обороты. Число компаний и отраслей задействованных в реализации данной технологии растет с каждым днем. От гигантов рынка до небольших стартаппов. Поглядим, что принесет нам день грядущий, а пока продолжаем вникать дальше. 

Blockchain is in the detail.